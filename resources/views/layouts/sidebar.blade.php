<!-- ===== Sidebar Start ===== -->
<aside :class="sidebarToggle ? 'translate-x-0' : '-translate-x-full'" class="absolute left-0 top-0 z-9999 flex h-screen w-72 flex-col overflow-y-hidden border-r border-gray-200 bg-white duration-300 ease-linear dark:border-gray-800 dark:bg-gray-900 lg:static lg:translate-x-0" @click.outside="sidebarToggle = false">
    <!-- SIDEBAR HEADER -->
    <div class="flex items-center justify-between gap-2 px-6 py-5 lg:py-6">
        <!-- Logo - HIDDEN di mobile, TAMPIL di desktop -->
        <a href="/" class="hidden lg:block">
            <img src="{{ asset('assets/img/simekv2-icf.png') }}" class="h-12 w-auto" alt="SI-MEK Logo" />
        </a>

        <!-- Close Button - HANYA di mobile -->
        <button class="block lg:hidden" @click.stop="sidebarToggle = !sidebarToggle">
            <svg class="fill-current" width="20" height="18" viewBox="0 0 20 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M19 8.175H2.98748L9.36248 1.6875C9.69998 1.35 9.69998 0.825 9.36248 0.4875C9.02498 0.15 8.49998 0.15 8.16248 0.4875L0.399976 8.3625C0.0624756 8.7 0.0624756 9.225 0.399976 9.5625L8.16248 17.4375C8.31248 17.5875 8.53748 17.7 8.76248 17.7C8.98748 17.7 9.17498 17.625 9.36248 17.475C9.69998 17.1375 9.69998 16.6125 9.36248 16.275L3.02498 9.8625H19C19.45 9.8625 19.825 9.4875 19.825 9.0375C19.825 8.55 19.45 8.175 19 8.175Z" fill=""/>
            </svg>
        </button>
    </div>
    <!-- SIDEBAR HEADER END -->

    <!-- SIDEBAR MENU -->
    <div class="no-scrollbar flex flex-col overflow-y-auto duration-300 ease-linear">
        <nav class="px-4 py-4 lg:px-6">
            <div>
               <h3 class="mb-4 text-xs leading-[20px] text-gray-400 uppercase">
                     MENU
               </h3>

                <ul class="mb-6 flex flex-col gap-1.5">
                    <!-- Dashboard - Semua role yang punya view_admin_dashboard atau participant -->
                    @if(auth()->user()->can('view_admin_dashboard') || auth()->user()->hasRole('participant'))
                        <li>
                            <a class="group relative flex items-center gap-2.5 rounded-lg px-4 py-2 font-medium text-gray-600 duration-300 ease-in-out hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-white/5 {{ request()->routeIs('dashboard') ? 'bg-gray-100 text-gray-800 dark:bg-white/5 dark:text-white' : '' }}" href="{{ route('dashboard') }}">
                                <svg class="fill-current" width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M6.10322 0.956299H2.53135C1.5751 0.956299 0.787598 1.7438 0.787598 2.70005V6.27192C0.787598 7.22817 1.5751 8.01567 2.53135 8.01567H6.10322C7.05947 8.01567 7.84697 7.22817 7.84697 6.27192V2.72817C7.8751 1.7438 7.0876 0.956299 6.10322 0.956299ZM6.60947 6.30005C6.60947 6.5813 6.38447 6.8063 6.10322 6.8063H2.53135C2.2501 6.8063 2.0251 6.5813 2.0251 6.30005V2.72817C2.0251 2.44692 2.2501 2.22192 2.53135 2.22192H6.10322C6.38447 2.22192 6.60947 2.44692 6.60947 2.72817V6.30005Z" fill=""/>
                                    <path d="M15.4689 0.956299H11.8971C10.9408 0.956299 10.1533 1.7438 10.1533 2.70005V6.27192C10.1533 7.22817 10.9408 8.01567 11.8971 8.01567H15.4689C16.4252 8.01567 17.2127 7.22817 17.2127 6.27192V2.72817C17.2127 1.7438 16.4252 0.956299 15.4689 0.956299ZM15.9752 6.30005C15.9752 6.5813 15.7502 6.8063 15.4689 6.8063H11.8971C11.6158 6.8063 11.3908 6.5813 11.3908 6.30005V2.72817C11.3908 2.44692 11.6158 2.22192 11.8971 2.22192H15.4689C15.7502 2.22192 15.9752 2.44692 15.9752 2.72817V6.30005Z" fill=""/>
                                    <path d="M6.10322 9.92822H2.53135C1.5751 9.92822 0.787598 10.7157 0.787598 11.672V15.2438C0.787598 16.2001 1.5751 16.9876 2.53135 16.9876H6.10322C7.05947 16.9876 7.84697 16.2001 7.84697 15.2438V11.7001C7.8751 10.7157 7.0876 9.92822 6.10322 9.92822ZM6.60947 15.272C6.60947 15.5532 6.38447 15.7782 6.10322 15.7782H2.53135C2.2501 15.7782 2.0251 15.5532 2.0251 15.272V11.7001C2.0251 11.4188 2.2501 11.1938 2.53135 11.1938H6.10322C6.38447 11.1938 6.60947 11.4188 6.60947 11.7001V15.272Z" fill=""/>
                                    <path d="M15.4689 9.92822H11.8971C10.9408 9.92822 10.1533 10.7157 10.1533 11.672V15.2438C10.1533 16.2001 10.9408 16.9876 11.8971 16.9876H15.4689C16.4252 16.9876 17.2127 16.2001 17.2127 15.2438V11.7001C17.2127 10.7157 16.4252 9.92822 15.4689 9.92822ZM15.9752 15.272C15.9752 15.5532 15.7502 15.7782 15.4689 15.7782H11.8971C11.6158 15.7782 11.3908 15.5532 11.3908 15.272V11.7001C11.3908 11.4188 11.6158 11.1938 11.8971 11.1938H15.4689C15.7502 11.1938 15.9752 11.4188 15.9752 11.7001V15.272Z" fill=""/>
                                </svg>
                                Dashboard
                            </a>
                        </li>
                    @endif

                    <!-- Kelola Event - Butuh permission view_events -->
                    @can('view_events')
                        <li>
                            <a class="group relative flex items-center gap-2.5 rounded-lg px-4 py-2 font-medium text-gray-600 duration-300 ease-in-out hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-white/5 {{ request()->routeIs('admin.events.*') ? 'bg-gray-100 text-gray-800 dark:bg-white/5 dark:text-white' : '' }}" href="{{ route('admin.events.index') }}">
                                <svg class="fill-current" width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M15.7499 2.9812H14.2874V2.36245C14.2874 2.02495 14.0062 1.71558 13.6405 1.71558C13.2749 1.71558 12.9937 1.99683 12.9937 2.36245V2.9812H4.97803V2.36245C4.97803 2.02495 4.69678 1.71558 4.33115 1.71558C3.96553 1.71558 3.68428 1.99683 3.68428 2.36245V2.9812H2.2499C1.29365 2.9812 0.478027 3.7687 0.478027 4.75308V14.5406C0.478027 15.4968 1.26553 16.3125 2.2499 16.3125H15.7499C16.7062 16.3125 17.5218 15.525 17.5218 14.5406V4.72495C17.5218 3.7687 16.7062 2.9812 15.7499 2.9812ZM1.77178 8.21245H4.1624V10.9968H1.77178V8.21245ZM5.42803 8.21245H8.38115V10.9968H5.42803V8.21245ZM8.38115 12.2625V15.0187H5.42803V12.2625H8.38115ZM9.64678 12.2625H12.5999V15.0187H9.64678V12.2625ZM9.64678 10.9968V8.21245H12.5999V10.9968H9.64678ZM13.8374 8.21245H16.228V10.9968H13.8374V8.21245ZM2.2499 4.24683H3.7124V4.83745C3.7124 5.17495 3.99365 5.48433 4.35928 5.48433C4.7249 5.48433 5.00615 5.20308 5.00615 4.83745V4.24683H13.0499V4.83745C13.0499 5.17495 13.3312 5.48433 13.6968 5.48433C14.0624 5.48433 14.3437 5.20308 14.3437 4.83745V4.24683H15.7499C16.0312 4.24683 16.2562 4.47183 16.2562 4.75308V6.94683H1.77178V4.75308C1.77178 4.47183 1.96865 4.24683 2.2499 4.24683ZM1.77178 14.5125V12.2343H4.1624V14.9906H2.2499C1.96865 15.0187 1.77178 14.7937 1.77178 14.5125ZM15.7499 15.0187H13.8374V12.2625H16.228V14.5406C16.2562 14.7937 16.0312 15.0187 15.7499 15.0187Z" fill=""/>
                                </svg>
                                Kelola Event
                            </a>
                        </li>
                    @endcan

                    <!-- Kelola Registrasi - Butuh permission view_registrations -->
                    @can('view_registrations')
                        <li>
                            <a class="group relative flex items-center gap-2.5 rounded-lg px-4 py-2 font-medium text-gray-600 duration-300 ease-in-out hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-white/5 {{ request()->routeIs('admin.registrations.*') ? 'bg-gray-100 text-gray-800 dark:bg-white/5 dark:text-white' : '' }}" href="{{ route('admin.registrations.index') }}">
                                <svg class="fill-current" width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M9.0002 7.79065C11.0814 7.79065 12.7689 6.1594 12.7689 4.1344C12.7689 2.1094 11.0814 0.478149 9.0002 0.478149C6.91895 0.478149 5.23145 2.1094 5.23145 4.1344C5.23145 6.1594 6.91895 7.79065 9.0002 7.79065ZM9.0002 1.7719C10.3783 1.7719 11.5033 2.84065 11.5033 4.16252C11.5033 5.48440 10.3783 6.55315 9.0002 6.55315C7.62207 6.55315 6.49707 5.48440 6.49707 4.16252C6.49707 2.84065 7.62207 1.7719 9.0002 1.7719Z" fill=""/>
                                    <path d="M10.8283 9.05627H7.17207C4.16269 9.05627 1.71582 11.5313 1.71582 14.5406V16.875C1.71582 17.2125 1.99707 17.5219 2.3627 17.5219C2.72832 17.5219 3.00957 17.2407 3.00957 16.875V14.5406C3.00957 12.2344 4.89394 10.3219 7.22832 10.3219H10.8564C13.1627 10.3219 15.0752 12.2063 15.0752 14.5406V16.875C15.0752 17.2125 15.3564 17.5219 15.7221 17.5219C16.0877 17.5219 16.3689 17.2407 16.3689 16.875V14.5406C16.2846 11.5313 13.8377 9.05627 10.8283 9.05627Z" fill=""/>
                                </svg>
                                Kelola Registrasi
                            </a>
                        </li>
                    @endcan

                    <!-- Kelola Pembayaran - Butuh permission view_payments -->
                    @can('view_payments')
                        <li>
                            <a class="group relative flex items-center gap-2.5 rounded-lg px-4 py-2 font-medium text-gray-600 duration-300 ease-in-out hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-white/5 {{ request()->routeIs('admin.payments.*') ? 'bg-gray-100 text-gray-800 dark:bg-white/5 dark:text-white' : '' }}" href="{{ route('admin.payments.index') }}">
                                <svg class="fill-current" width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M12.7127 15.8531H5.28394C2.55769 15.8531 0.478027 13.7734 0.478027 11.0472V6.94531C0.478027 4.21906 2.55769 2.13281 5.28394 2.13281H12.7127C15.439 2.13281 17.5468 4.21094 17.5468 6.94531V11.0472C17.5468 13.7734 15.439 15.8531 12.7127 15.8531ZM5.28394 3.37031C3.26082 3.37031 1.71582 4.91531 1.71582 6.93781V11.0391C1.71582 13.0616 3.26082 14.6066 5.28394 14.6066H12.7127C14.7359 14.6066 16.2809 13.0616 16.2809 11.0391V6.93781C16.2809 4.91531 14.7359 3.37031 12.7127 3.37031H5.28394Z" fill=""/>
                                    <path d="M16.9033 6.375H1.09082C0.753577 6.375 0.478027 6.10313 0.478027 5.76563C0.478027 5.42813 0.749827 5.15625 1.09082 5.15625H16.9033C17.2405 5.15625 17.5161 5.42813 17.5161 5.76563C17.5161 6.10313 17.2405 6.375 16.9033 6.375Z" fill=""/>
                                    <path d="M5.58301 11.0531C4.90176 11.0531 4.35176 10.5031 4.35176 9.82188C4.35176 9.14063 4.90176 8.59063 5.58301 8.59063C6.26426 8.59063 6.81426 9.14063 6.81426 9.82188C6.81426 10.5031 6.26426 11.0531 5.58301 11.0531ZM5.58301 9.8125C5.5518 9.8125 5.52051 9.84375 5.52051 9.875C5.52051 9.90625 5.5518 9.9375 5.58301 9.9375C5.61426 9.9375 5.64551 9.90625 5.64551 9.875C5.64551 9.84375 5.58301 9.8125 5.58301 9.8125Z" fill=""/>
                                    <path d="M9.00488 11.0531C8.32363 11.0531 7.77363 10.5031 7.77363 9.82188C7.77363 9.14063 8.32363 8.59063 9.00488 8.59063C9.68613 8.59063 10.2361 9.14063 10.2361 9.82188C10.2361 10.5031 9.65801 11.0531 9.00488 11.0531ZM9.00488 9.8125C8.97363 9.8125 8.94238 9.84375 8.94238 9.875C8.94238 9.90625 8.97363 9.9375 9.00488 9.9375C9.03613 9.9375 9.06738 9.90625 9.06738 9.875C9.06738 9.84375 9.03613 9.8125 9.00488 9.8125Z" fill=""/>
                                </svg>
                                Kelola Pembayaran
                            </a>
                        </li>
                    @endcan

                    <!-- Kelola User - Super Admin Only -->
                    @if(auth()->user()->hasRole('super_admin'))
                        <li>
                            <a class="group relative flex items-center gap-2.5 rounded-lg px-4 py-2 font-medium text-gray-600 duration-300 ease-in-out hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-white/5 {{ request()->routeIs('admin.users.*') ? 'bg-gray-100 text-gray-800 dark:bg-white/5 dark:text-white' : '' }}" href="{{ route('admin.users.index') }}">
                                <svg class="fill-current" width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M9.0002 7.79065C11.0814 7.79065 12.7689 6.1594 12.7689 4.1344C12.7689 2.1094 11.0814 0.478149 9.0002 0.478149C6.91895 0.478149 5.23145 2.1094 5.23145 4.1344C5.23145 6.1594 6.91895 7.79065 9.0002 7.79065ZM9.0002 1.7719C10.3783 1.7719 11.5033 2.84065 11.5033 4.16252C11.5033 5.48440 10.3783 6.55315 9.0002 6.55315C7.62207 6.55315 6.49707 5.48440 6.49707 4.16252C6.49707 2.84065 7.62207 1.7719 9.0002 1.7719Z" fill=""/>
                                    <path d="M10.8283 9.05627H7.17207C4.16269 9.05627 1.71582 11.5313 1.71582 14.5406V16.875C1.71582 17.2125 1.99707 17.5219 2.3627 17.5219C2.72832 17.5219 3.00957 17.2407 3.00957 16.875V14.5406C3.00957 12.2344 4.89394 10.3219 7.22832 10.3219H10.8564C13.1627 10.3219 15.0752 12.2063 15.0752 14.5406V16.875C15.0752 17.2125 15.3564 17.5219 15.7221 17.5219C16.0877 17.5219 16.3689 17.2407 16.3689 16.875V14.5406C16.2846 11.5313 13.8377 9.05627 10.8283 9.05627Z" fill=""/>
                                </svg>
                                Kelola Pengguna
                            </a>
                        </li>

                        <!-- Kelola Role - Super Admin Only -->
                        <li>
                            <a class="group relative flex items-center gap-2.5 rounded-lg px-4 py-2 font-medium text-gray-600 duration-300 ease-in-out hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-white/5 {{ request()->routeIs('admin.roles.*') ? 'bg-gray-100 text-gray-800 dark:bg-white/5 dark:text-white' : '' }}" href="{{ route('admin.roles.index') }}">
                                <svg class="fill-current" width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M15.7499 0.787476H2.2499C1.29365 0.787476 0.478027 1.57498 0.478027 2.55935V6.35623C0.478027 7.3406 1.26553 8.1281 2.2499 8.1281H15.7499C16.7062 8.1281 17.5218 7.3406 17.5218 6.35623V2.55935C17.5218 1.57498 16.7062 0.787476 15.7499 0.787476ZM16.2562 6.35623C16.2562 6.66248 15.9749 6.9156 15.7218 6.9156H2.2499C1.96865 6.9156 1.71553 6.63435 1.71553 6.35623V2.55935C1.71553 2.2531 1.99678 1.99998 2.2499 1.99998H15.7499C16.0312 1.99998 16.2843 2.2531 16.2843 2.55935V6.35623H16.2562Z" fill=""/>
                                    <path d="M15.7499 9.8719H2.2499C1.29365 9.8719 0.478027 10.6594 0.478027 11.6438V15.4125C0.478027 16.3969 1.26553 17.1844 2.2499 17.1844H15.7499C16.7062 17.1844 17.5218 16.3969 17.5218 15.4125V11.6438C17.5218 10.6594 16.7062 9.8719 15.7499 9.8719ZM16.2562 15.4125C16.2562 15.7188 15.9749 15.9719 15.7218 15.9719H2.2499C1.96865 15.9719 1.71553 15.6906 1.71553 15.4125V11.6438C1.71553 11.3375 1.99678 11.0844 2.2499 11.0844H15.7499C16.0312 11.0844 16.2843 11.3375 16.2843 11.6438V15.4125H16.2562Z" fill=""/>
                                </svg>
                                Kelola Role
                            </a>
                        </li>
                    @endif

                    <!-- PARTICIPANT MENU - Only for Participant Role -->
                    @if(auth()->user()->hasRole('participant'))
                        <!-- Event Tersedia -->
                        <li>
                            <a class="group relative flex items-center gap-2.5 rounded-lg px-4 py-2 font-medium text-gray-600 duration-300 ease-in-out hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-white/5 {{ request()->routeIs('participant.events.*') ? 'bg-gray-100 text-gray-800 dark:bg-white/5 dark:text-white' : '' }}" href="{{ route('participant.events.index') }}">
                                <svg class="fill-current" width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M15.7499 2.9812H14.2874V2.36245C14.2874 2.02495 14.0062 1.71558 13.6405 1.71558C13.2749 1.71558 12.9937 1.99683 12.9937 2.36245V2.9812H4.97803V2.36245C4.97803 2.02495 4.69678 1.71558 4.33115 1.71558C3.96553 1.71558 3.68428 1.99683 3.68428 2.36245V2.9812H2.2499C1.29365 2.9812 0.478027 3.7687 0.478027 4.75308V14.5406C0.478027 15.4968 1.26553 16.3125 2.2499 16.3125H15.7499C16.7062 16.3125 17.5218 15.525 17.5218 14.5406V4.72495C17.5218 3.7687 16.7062 2.9812 15.7499 2.9812ZM1.77178 8.21245H4.1624V10.9968H1.77178V8.21245ZM5.42803 8.21245H8.38115V10.9968H5.42803V8.21245ZM8.38115 12.2625V15.0187H5.42803V12.2625H8.38115ZM9.64678 12.2625H12.5999V15.0187H9.64678V12.2625ZM9.64678 10.9968V8.21245H12.5999V10.9968H9.64678ZM13.8374 8.21245H16.228V10.9968H13.8374V8.21245ZM2.2499 4.24683H3.7124V4.83745C3.7124 5.17495 3.99365 5.48433 4.35928 5.48433C4.7249 5.48433 5.00615 5.20308 5.00615 4.83745V4.24683H13.0499V4.83745C13.0499 5.17495 13.3312 5.48433 13.6968 5.48433C14.0624 5.48433 14.3437 5.20308 14.3437 4.83745V4.24683H15.7499C16.0312 4.24683 16.2562 4.47183 16.2562 4.75308V6.94683H1.77178V4.75308C1.77178 4.47183 1.96865 4.24683 2.2499 4.24683ZM1.77178 14.5125V12.2343H4.1624V14.9906H2.2499C1.96865 15.0187 1.77178 14.7937 1.77178 14.5125ZM15.7499 15.0187H13.8374V12.2625H16.228V14.5406C16.2562 14.7937 16.0312 15.0187 15.7499 15.0187Z" fill=""/>
                                </svg>
                                Event Tersedia
                            </a>
                        </li>

                        <!-- Registrasi Saya -->
                        <li>
                            <a class="group relative flex items-center gap-2.5 rounded-lg px-4 py-2 font-medium text-gray-600 duration-300 ease-in-out hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-white/5 {{ request()->routeIs('participant.registrations.*') ? 'bg-gray-100 text-gray-800 dark:bg-white/5 dark:text-white' : '' }}" href="{{ route('participant.registrations.index') }}">
                                <svg class="fill-current" width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M16.1999 2.0343H1.7999C1.0124 2.0343 0.478027 2.59055 0.478027 3.37805V5.8093C0.478027 6.59680 1.0343 7.13117 1.7999 7.13117H16.1999C16.9874 7.13117 17.5218 6.5749 17.5218 5.8093V3.37805C17.5218 2.59055 16.9655 2.0343 16.1999 2.0343ZM16.2562 5.78117C16.2562 5.89805 16.1674 5.98680 16.0505 5.98680H1.94365C1.82678 5.98680 1.73803 5.89805 1.73803 5.78117V3.37805C1.73803 3.26117 1.82678 3.17242 1.94365 3.17242H16.0505C16.1674 3.17242 16.2562 3.26117 16.2562 3.37805V5.78117Z" fill=""/>
                                    <path d="M1.7999 8.5343C1.0124 8.5343 0.478027 9.09055 0.478027 9.87805V14.622C0.478027 15.4095 1.0343 15.9439 1.7999 15.9439H16.1999C16.9874 15.9439 17.5218 15.3876 17.5218 14.622V9.87805C17.5218 9.09055 16.9655 8.5343 16.1999 8.5343ZM16.2562 14.5939C16.2562 14.7108 16.1674 14.7995 16.0505 14.7995H1.94365C1.82678 14.7995 1.73803 14.7108 1.73803 14.5939V9.87805C1.73803 9.76117 1.82678 9.67242 1.94365 9.67242H16.0505C16.1674 9.67242 16.2562 9.76117 16.2562 9.87805V14.5939Z" fill=""/>
                                </svg>
                                Registrasi Saya
                            </a>
                        </li>
                    @endif
                </ul>
            </div>
        </nav>
    </div>
</aside>
<!-- ===== Sidebar End ===== -->